{% extends "public/base.html" %}
{% load static %}
{% block meta_title %}Work Zilla | Profile{% endblock %}
{% block meta_description %}Update your Work Zilla account details and preferences.{% endblock %}
{% block body_class %}account-page{% endblock %}

{% block content %}
<section class="section">
  <div class="site-container account-layout">
    <div class="account-header">
      <h1 class="section-title">Profile</h1>
    </div>
    {% include "public/partials/account_tabs.html" %}

    <div class="account-content card p-4">
        {% if messages %}
          {% for message in messages|slice:"-1:" %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
        <h2 class="section-title">Profile Details</h2>
        <form class="mt-3" method="post" data-account-form>
          {% csrf_token %}
          <input type="hidden" name="phone_number" data-phone-hidden value="{{ profile.phone_number|default:'' }}">
          <div class="form-grid">
            <div class="form-field">
              <label>First Name</label>
              <input type="text" name="first_name" value="{{ request.user.first_name|default:'' }}">
            </div>
            <div class="form-field">
              <label>Last Name</label>
              <input type="text" name="last_name" value="{{ request.user.last_name|default:'' }}">
            </div>
            <div class="form-field">
              <label>Email</label>
              <input type="email" name="email" value="{{ request.user.email|default:'' }}">
            </div>
            <div class="form-field">
              <label>Phone Number *</label>
              <div class="phone-input-group">
                <select name="phone_country" class="form-control" data-phone-country required>
                  {% include "partials/phone_country_options.html" %}
                </select>
                <input type="text" name="phone_number_input" class="form-control" data-phone-number placeholder="Phone number" value="" required>
              </div>
            </div>
          </div>
          <button class="btn btn-outline mt-3" type="submit">Save Profile</button>
        </form>
    </div>
  </div>
</section>
<script src="{% static 'public/js/account_forms.js' %}" defer></script>
{% endblock %}
